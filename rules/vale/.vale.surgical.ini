# Vale Configuration for Surgical Pipeline
#
# PHILOSOPHY: The surgical pipeline should FIX everything it detects.
# Only SUBSTITUTION rules are enabled here - they provide auto-fixes.
# Existence rules (detect-only) are DISABLED because they flag without fixing.
#
# Reference: dtc_editor/rules/surgical_rules_manifest.yml

StylesPath = .
MinAlertLevel = suggestion

[*]
BasedOnStyles = dtc

# =============================================================================
# DISABLED: Prose quality rules (require LLM rewrite - holistic pipeline only)
# =============================================================================
dtc.PassiveVoice = NO
dtc.Hedging = NO
dtc.WeakLanguage = NO
dtc.Nominalization = NO
dtc.StaticSentence = NO
dtc.Vigor = NO
dtc.Orwell = NO
dtc.NounStack = NO
dtc.RootRepetition = NO

# =============================================================================
# DISABLED: Existence rules (detect-only, no auto-fix capability)
# These are flag-only rules - kept disabled to avoid unfixable findings.
# Enable in holistic pipeline where LLM can address these.
# =============================================================================
dtc.FigureCaptionFormat = NO
dtc.TableCaptionFormat = NO
dtc.CaptionPeriod = NO
dtc.CaptionSentenceCase = NO
dtc.CrossReference = NO
dtc.FigureFormat = NO
dtc.TableFormat = NO
dtc.APAReference = NO
dtc.ReferenceURL = NO
dtc.BracketedCitations = NO
dtc.BibliographyVsReferences = NO
dtc.Jargon = NO
dtc.TitleLength = NO
dtc.Attribution = NO
dtc.DocumentStart = NO
dtc.AbstractStart = NO

# =============================================================================
# ENABLED: Substitution rules (CAN auto-fix)
# These rules provide explicit replacements that can be applied automatically.
# =============================================================================
# Capitalization (substitution rules)
# NOTE: DigitalTwinCapitalization DISABLED - uses regex lookahead which Go/Vale
# doesn't support. The pattern Digital Twin(?! Consortium) incorrectly matches
# "Digital Twin" within "Digital Twin Consortium", causing unwanted lowercasing.
dtc.DigitalTwinCapitalization = NO
dtc.DTCTrademarks = YES
dtc.TechnicalTermCapitalization = YES

# Clarity - wordy phrases (substitution rules)
dtc.Wordiness = YES
dtc.Redundancy = YES
dtc.Terms = YES

# Numbers and formatting (substitution rules)
# NOTE: APNumbers disabled - too aggressive, matches chapter numbers and figure refs
dtc.APNumbers = NO
dtc.APPercent = YES
dtc.APTimes = YES
